<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Gestor de Tareas (No-SPA)</title>
  <style>
    :root{
      --primary-red: #D72631;
      --accent-yellow: #FFC300;
      --warm-orange: #FF9F1C;
      --neutral-dark: #1B1B1B;
      --muted-bg: #FFF9F2;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{
      font-family:Segoe UI, Tahoma, Geneva, Verdana, sans-serif;
      background:linear-gradient(135deg, #FFF9F2 0%, #FFE5D9 100%);
      color:var(--neutral-dark);
      min-height:100vh;
      padding:2rem 1rem;
    }
    .container{max-width:800px;margin:0 auto}
    header{
      background:white;
      padding:1.5rem;
      border-radius:16px;
      box-shadow:0 8px 32px rgba(215, 38, 49, 0.1);
      margin-bottom:2rem;
      display:flex;
      align-items:center;
      gap:1rem;
    }
    .logo{
      width:48px;
      height:48px;
      background:linear-gradient(135deg, var(--primary-red), var(--warm-orange));
      border-radius:12px;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:1.5rem;
    }
    h1{
      color:var(--primary-red);
      font-size:2rem;
      margin-bottom:0.25rem;
      font-weight:700;
    }
    .subtitle{
      color:#666;
      font-size:0.95rem;
    }
    .card{
      background:white;
      padding:2rem;
      border-radius:16px;
      box-shadow:0 8px 32px rgba(0,0,0,0.08);
    }
    form{
      display:flex;
      gap:0.75rem;
      flex-wrap:wrap;
      margin-bottom:2rem;
      padding-bottom:2rem;
      border-bottom:2px solid #f0f0f0;
    }
    input[type=text]{
      flex:1;
      min-width:250px;
      padding:0.85rem 1rem;
      border:2px solid #e5e5e5;
      border-radius:10px;
      font-size:1rem;
      transition:border 0.3s ease;
    }
    input[type=text]:focus{
      outline:none;
      border-color:var(--primary-red);
    }
    select{
      padding:0.85rem 1rem;
      border-radius:10px;
      border:2px solid #e5e5e5;
      font-size:1rem;
      cursor:pointer;
      background:white;
    }
    button{
      background:var(--primary-red);
      color:white;
      padding:0.85rem 1.5rem;
      border:none;
      border-radius:10px;
      cursor:pointer;
      font-weight:600;
      font-size:1rem;
      transition:all 0.3s ease;
    }
    button:hover{
      background:#B81E28;
      transform:translateY(-2px);
      box-shadow:0 4px 12px rgba(215, 38, 49, 0.3);
    }
    button.secondary{
      background:var(--warm-orange);
    }
    button.secondary:hover{
      background:#E68A00;
    }
    .controls{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:1.5rem;
    }
    .task-count{
      font-size:1.1rem;
      color:#666;
    }
    .task-count strong{
      color:var(--primary-red);
      font-size:1.3rem;
    }
    ul{
      list-style:none;
      padding:0;
      margin:0;
    }
    li{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:1rem;
      padding:1.25rem;
      margin-bottom:0.75rem;
      background:#FAFAFA;
      border-radius:12px;
      border-left:4px solid transparent;
      transition:all 0.3s ease;
    }
    li:hover{
      background:#F5F5F5;
      transform:translateX(4px);
    }
    li.low{border-left-color:#2d8f2d}
    li.medium{border-left-color:var(--warm-orange)}
    li.high{border-left-color:var(--primary-red)}
    li.done{opacity:0.6}
    .task-content{flex:1}
    .task-title{
      font-size:1.1rem;
      font-weight:600;
      color:var(--neutral-dark);
      margin-bottom:0.25rem;
    }
    .task-title.done{
      text-decoration:line-through;
      color:#999;
    }
    .meta{
      font-size:0.85rem;
      color:#888;
    }
    .task-right{
      display:flex;
      gap:0.5rem;
      align-items:center;
    }
    .importance{
      padding:0.35rem 0.75rem;
      border-radius:6px;
      font-size:0.85rem;
      font-weight:600;
      text-transform:uppercase;
    }
    .importance.low{
      background:#E8F5E9;
      color:#2d8f2d;
    }
    .importance.medium{
      background:#FFF3E0;
      color:var(--warm-orange);
    }
    .importance.high{
      background:#FFEBEE;
      color:var(--primary-red);
    }
    .actions{
      display:flex;
      gap:0.5rem;
    }
    .actions button{
      padding:0.5rem 1rem;
      font-size:0.9rem;
    }
    .empty{
      text-align:center;
      padding:3rem 1rem;
      color:#999;
      font-size:1.1rem;
    }
    .empty::before{
      content:'üìù';
      display:block;
      font-size:3rem;
      margin-bottom:1rem;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo">‚úì</div>
      <div>
        <h1>Gestor de Tareas</h1>
        <div class="subtitle">Versi√≥n simple (No-SPA) ‚Äî Organiza tus tareas con prioridades</div>
      </div>
    </header>

    <main class="card">
      <form id="taskForm">
        <input id="title" type="text" placeholder="¬øQu√© necesitas hacer?" required>
        <select id="importance">
          <option value="low">Baja</option>
          <option value="medium">Media</option>
          <option value="high">Alta</option>
        </select>
        <button type="submit">‚ûï A√±adir Tarea</button>
        <button type="button" id="clearBtn" class="secondary">üóëÔ∏è Borrar todo</button>
      </form>

      <div id="listContainer"></div>
    </main>
  </div>

  <script>
    const form = document.getElementById('taskForm');
    const titleInput = document.getElementById('title');
    const importanceSelect = document.getElementById('importance');
    const listContainer = document.getElementById('listContainer');
    const clearBtn = document.getElementById('clearBtn');

    let tasks = [];

    function render(){
      if(tasks.length === 0){
        listContainer.innerHTML = '<div class="empty">No hay tareas pendientes<br><small>¬°Comienza a√±adiendo una nueva tarea!</small></div>';
        return;
      }

      const controls = document.createElement('div');
      controls.className = 'controls';
      controls.innerHTML = `<div class="task-count"><strong>${tasks.length}</strong> tareas en total</div>`;
      
      const ul = document.createElement('ul');
      const labels = {low: 'Baja', medium: 'Media', high: 'Alta'};
      
      tasks.forEach((t, idx) => {
        const li = document.createElement('li');
        li.className = `${t.importance} ${t.done ? 'done' : ''}`;
        
        const left = document.createElement('div');
        left.className = 'task-content';
        left.innerHTML = `
          <div class="task-title ${t.done ? 'done' : ''}">${escapeHtml(t.title)}</div>
          <div class="meta">${new Date(t.created).toLocaleString('es-ES', {dateStyle: 'short', timeStyle: 'short'})}</div>
        `;
        
        const right = document.createElement('div');
        right.className = 'task-right';
        
        const badge = document.createElement('span');
        badge.className = `importance ${t.importance}`;
        badge.textContent = labels[t.importance];
        
        const actions = document.createElement('div');
        actions.className = 'actions';
        
        const doneBtn = document.createElement('button');
        doneBtn.textContent = t.done ? '‚Ü©Ô∏è Deshacer' : '‚úì Hecho';
        doneBtn.onclick = () => {
          tasks[idx].done = !tasks[idx].done;
          render();
        };
        
        const delBtn = document.createElement('button');
        delBtn.className = 'secondary';
        delBtn.textContent = 'üóëÔ∏è';
        delBtn.onclick = () => {
          tasks.splice(idx, 1);
          render();
        };
        
        actions.appendChild(doneBtn);
        actions.appendChild(delBtn);
        right.appendChild(badge);
        right.appendChild(actions);
        
        li.appendChild(left);
        li.appendChild(right);
        ul.appendChild(li);
      });
      
      listContainer.innerHTML = '';
      listContainer.appendChild(controls);
      listContainer.appendChild(ul);
    }

    function escapeHtml(s){
      return String(s).replace(/[&<>"]/g, m => ({
        '&': '&amp;',
        '<': '&lt;',
        '>': '&gt;',
        '"': '&quot;'
      }[m] || m));
    }

    form.addEventListener('submit', e => {
      e.preventDefault();
      tasks.unshift({
        title: titleInput.value.trim(),
        importance: importanceSelect.value,
        created: Date.now(),
        done: false
      });
      titleInput.value = '';
      render();
    });

    clearBtn.addEventListener('click', () => {
      if(confirm('¬øBorrar todas las tareas?')){
        tasks = [];
        render();
      }
    });

    render();
  </script>
</body>
</html>